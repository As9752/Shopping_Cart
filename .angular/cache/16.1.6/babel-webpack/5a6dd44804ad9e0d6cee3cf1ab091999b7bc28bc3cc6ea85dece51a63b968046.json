{"ast":null,"code":"import { BehaviorSubject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ProductService {\n  getFromStorage() {\n    const productsFromStorage = sessionStorage.getItem(\"products\");\n    if (productsFromStorage) {\n      this.hotels = JSON.parse(productsFromStorage);\n    }\n    return this.hotels;\n  }\n  setToStorage() {\n    sessionStorage.setItem(\"products\", JSON.stringify(this.hotels));\n  }\n  getProducts() {\n    return this.products;\n  }\n  // addProduct(product: Product): void {\n  //   this.products.push(product);\n  //   this.setToStorage();\n  // }\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = \"http://localhost:8034/hotel-api/v1/getall\";\n    this.counter = 1;\n    this.hotels = [];\n    this.productsList = [];\n    this.productsSubject$ = new BehaviorSubject(this.getFromStorage());\n    this.products$ = this.productsSubject$.asObservable();\n    this.viewBooking = [{\n      name: \"ashish\"\n    }];\n  }\n  getApiData() {\n    return this.http.get(this.apiUrl);\n  }\n  addProduct(product) {\n    return this.http.post(\"http://localhost:8034/hotel-api/v1/hotels\", product);\n  }\n  // getAllProducts() {\n  //   return this.getFromStorage()\n  // }\n  getProduct(id) {\n    return this.http.get(`http://localhost:8034/hotel-api/v1/hotels/${id}`);\n  }\n  getAllFromAPI() {\n    return this.http.get(\"http://localhost:8034/hotel-api/v1/getall\");\n  }\n  getViewBookingData(item) {\n    console.log(1, item);\n    // this.viewBooking.push(item);\n    this.viewBooking = [...this.viewBooking, item];\n    console.log(2, this.viewBooking);\n  }\n  getBookingInViewBooking() {\n    console.log(3, this.viewBooking);\n    return this.viewBooking;\n  }\n}\nProductService.ɵfac = function ProductService_Factory(t) {\n  return new (t || ProductService)(i0.ɵɵinject(i1.HttpClient));\n};\nProductService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProductService,\n  factory: ProductService.ɵfac,\n  providedIn: \"root\"\n});","map":{"version":3,"names":["BehaviorSubject","ProductService","getFromStorage","productsFromStorage","sessionStorage","getItem","hotels","JSON","parse","setToStorage","setItem","stringify","getProducts","products","constructor","http","apiUrl","counter","productsList","productsSubject$","products$","asObservable","viewBooking","name","getApiData","get","addProduct","product","post","getProduct","id","getAllFromAPI","getViewBookingData","item","console","log","getBookingInViewBooking","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/Users/ashishkloudspot/Downloads/Shopping_Cart/src/app/product/product.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { Hotel } from \"../model/product\";\nimport { BehaviorSubject, Observable } from \"rxjs\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ProductService {\n  private apiUrl = \"http://localhost:8034/hotel-api/v1/getall\";\n\n  private counter = 1;\n  private hotels: Hotel[] = [];\n\n  private productsList: Hotel[] = [];\n  private productsSubject$: BehaviorSubject<Hotel[]> = new BehaviorSubject(\n    this.getFromStorage()\n  );\n  products$ = this.productsSubject$.asObservable();\n\n  viewBooking: any[] = [{ name: \"ashish\" }];\n\n  getFromStorage() {\n    const productsFromStorage = sessionStorage.getItem(\"products\");\n    if (productsFromStorage) {\n      this.hotels = JSON.parse(productsFromStorage);\n    }\n    return this.hotels;\n  }\n\n  setToStorage() {\n    sessionStorage.setItem(\"products\", JSON.stringify(this.hotels));\n  }\n\n  getProducts() {\n    return this.products;\n  }\n\n  // addProduct(product: Product): void {\n  //   this.products.push(product);\n  //   this.setToStorage();\n  // }\n\n  constructor(private http: HttpClient) {}\n\n  getApiData() {\n    return this.http.get<Product[]>(this.apiUrl);\n  }\n\n  addProduct(product: Product) {\n    return this.http.post(\"http://localhost:8034/hotel-api/v1/hotels\", product);\n  }\n\n  // getAllProducts() {\n\n  //   return this.getFromStorage()\n\n  // }\n\n  getProduct(id: string) {\n    return this.http.get<Product>(\n      `http://localhost:8034/hotel-api/v1/hotels/${id}`\n    );\n  }\n\n  getAllFromAPI() {\n    return this.http.get<Product[]>(\n      \"http://localhost:8034/hotel-api/v1/getall\"\n    );\n  }\n  getViewBookingData(item: any) {\n    console.log(1, item);\n    // this.viewBooking.push(item);\n    this.viewBooking = [...this.viewBooking, item];\n    console.log(2, this.viewBooking);\n  }\n  getBookingInViewBooking(): any[] {\n    console.log(3, this.viewBooking);\n    return this.viewBooking;\n  }\n}\n"],"mappings":"AAEA,SAASA,eAAe,QAAoB,MAAM;;;AAMlD,OAAM,MAAOC,cAAc;EAczBC,cAAcA,CAAA;IACZ,MAAMC,mBAAmB,GAAGC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC;IAC9D,IAAIF,mBAAmB,EAAE;MACvB,IAAI,CAACG,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACL,mBAAmB,CAAC;;IAE/C,OAAO,IAAI,CAACG,MAAM;EACpB;EAEAG,YAAYA,CAAA;IACVL,cAAc,CAACM,OAAO,CAAC,UAAU,EAAEH,IAAI,CAACI,SAAS,CAAC,IAAI,CAACL,MAAM,CAAC,CAAC;EACjE;EAEAM,WAAWA,CAAA;IACT,OAAO,IAAI,CAACC,QAAQ;EACtB;EAEA;EACA;EACA;EACA;EAEAC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAlChB,KAAAC,MAAM,GAAG,2CAA2C;IAEpD,KAAAC,OAAO,GAAG,CAAC;IACX,KAAAX,MAAM,GAAY,EAAE;IAEpB,KAAAY,YAAY,GAAY,EAAE;IAC1B,KAAAC,gBAAgB,GAA6B,IAAInB,eAAe,CACtE,IAAI,CAACE,cAAc,EAAE,CACtB;IACD,KAAAkB,SAAS,GAAG,IAAI,CAACD,gBAAgB,CAACE,YAAY,EAAE;IAEhD,KAAAC,WAAW,GAAU,CAAC;MAAEC,IAAI,EAAE;IAAQ,CAAE,CAAC;EAuBF;EAEvCC,UAAUA,CAAA;IACR,OAAO,IAAI,CAACT,IAAI,CAACU,GAAG,CAAY,IAAI,CAACT,MAAM,CAAC;EAC9C;EAEAU,UAAUA,CAACC,OAAgB;IACzB,OAAO,IAAI,CAACZ,IAAI,CAACa,IAAI,CAAC,2CAA2C,EAAED,OAAO,CAAC;EAC7E;EAEA;EAEA;EAEA;EAEAE,UAAUA,CAACC,EAAU;IACnB,OAAO,IAAI,CAACf,IAAI,CAACU,GAAG,CAClB,6CAA6CK,EAAE,EAAE,CAClD;EACH;EAEAC,aAAaA,CAAA;IACX,OAAO,IAAI,CAAChB,IAAI,CAACU,GAAG,CAClB,2CAA2C,CAC5C;EACH;EACAO,kBAAkBA,CAACC,IAAS;IAC1BC,OAAO,CAACC,GAAG,CAAC,CAAC,EAAEF,IAAI,CAAC;IACpB;IACA,IAAI,CAACX,WAAW,GAAG,CAAC,GAAG,IAAI,CAACA,WAAW,EAAEW,IAAI,CAAC;IAC9CC,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,IAAI,CAACb,WAAW,CAAC;EAClC;EACAc,uBAAuBA,CAAA;IACrBF,OAAO,CAACC,GAAG,CAAC,CAAC,EAAE,IAAI,CAACb,WAAW,CAAC;IAChC,OAAO,IAAI,CAACA,WAAW;EACzB;;AAvEWrB,cAAc,C;mBAAdA,cAAc,EAAAoC,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAdvC,cAAc,C;SAAdA,cAAc;EAAAwC,OAAA,EAAdxC,cAAc,CAAAyC,IAAA;EAAAC,UAAA,EAFb;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}