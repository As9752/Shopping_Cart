{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ProductListComponent = class ProductListComponent {\n  constructor(productService, cartService) {\n    this.productService = productService;\n    this.cartService = cartService;\n    this.products = [];\n    this.filteredProduct = [];\n    this.hotels = [];\n    this.filters = {};\n    this.minPrice = 0;\n    this.maxPrice = 0;\n    this.maxRating = 0;\n    this.minRating = 0;\n    this.hasLounge = true;\n    this.hasParking = true;\n    this.location = '';\n    // apiData: ApiResponse | null = null;\n    this.isLoading = true;\n  }\n  ngOnInit() {\n    this.products = this.productService.getProducts();\n    this.productService.getApiData().subscribe(products => {\n      this.products = products;\n      this.filteredProduct = products;\n    });\n    // this.filteredProduct=[...this.products];\n    // this.getFilteredHotels(this.products);\n  }\n\n  onAddToCart(product) {\n    this.cartService.addToCart(product);\n  }\n  getFilteredHotels(product) {\n    // this.productService.getFilteredHotels(this.filters).subscribe(\n    //   (data: any[]) => {\n    //     console.log(\"hello\")\n    //     this.hotels = data;\n    //     console.log(this.minPrice);\n    //   },\n    //   (error: any) => {\n    //     console.error('Error fetching hotels', error);\n    //   }\n    // );\n    console.log(this.filteredProduct);\n    this.filteredProduct = this.products.filter(product => product.price >= this.minPrice && product.price <= this.maxPrice && product.rating >= this.minRating && product.rating <= this.maxRating && (this.location === '' || product.location.toLowerCase().includes(this.location.toLowerCase())));\n  }\n};\nProductListComponent = __decorate([Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})], ProductListComponent);","map":{"version":3,"names":["Component","ProductListComponent","constructor","productService","cartService","products","filteredProduct","hotels","filters","minPrice","maxPrice","maxRating","minRating","hasLounge","hasParking","location","isLoading","ngOnInit","getProducts","getApiData","subscribe","onAddToCart","product","addToCart","getFilteredHotels","console","log","filter","price","rating","toLowerCase","includes","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/ashishkloudspot/Downloads/Shopping_Cart/src/app/product/components/product-list/product-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {Product } from 'src/app/model/product';\nimport { ProductService } from '../../product.service';\nimport { CartService } from 'src/app/cart/cart.service';\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\nexport class ProductListComponent implements OnInit{\n  products: Product[] = [];\n  filteredProduct:Product[]=[];\n  hotels:any[]=[];\n  filters:any={};\nminPrice=0;\nmaxPrice=0;\nmaxRating=0;\nminRating=0;\nhasLounge=true;\nhasParking=true;\nlocation='';\n\n\n\n  constructor(\n    private productService: ProductService,\n    private cartService: CartService) { }\n    // apiData: ApiResponse | null = null;\n    isLoading = true;\n\n  ngOnInit(): void {\n    this.products = this.productService.getProducts();\n    this.productService.getApiData().subscribe(\n      (products)=>{\n        this.products= products\n        this.filteredProduct=products;\n      }\n    );\n    // this.filteredProduct=[...this.products];\n    \n    // this.getFilteredHotels(this.products);\n  }\n  onAddToCart(product: Product): void {\n    this.cartService.addToCart(product);\n  }\n\n  getFilteredHotels(product:any):void {\n    // this.productService.getFilteredHotels(this.filters).subscribe(\n    //   (data: any[]) => {\n    //     console.log(\"hello\")\n    //     this.hotels = data;\n    //     console.log(this.minPrice);\n    //   },\n    //   (error: any) => {\n    //     console.error('Error fetching hotels', error);\n    //   }\n    // );\n    console.log(this.filteredProduct);\n    this.filteredProduct = this.products.filter(product=>product.price>=this.minPrice&&\n      product.price <= this.maxPrice&&product.rating>=this.minRating&&product.rating<=this.maxRating&& \n      (this.location === '' || product.location.toLowerCase().includes(this.location.toLowerCase()))\n      \n    );\n  }\n\n\n\n  }"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,WAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAe/BC,YACUC,cAA8B,EAC9BC,WAAwB;IADxB,KAAAD,cAAc,GAAdA,cAAc;IACd,KAAAC,WAAW,GAAXA,WAAW;IAhBrB,KAAAC,QAAQ,GAAc,EAAE;IACxB,KAAAC,eAAe,GAAW,EAAE;IAC5B,KAAAC,MAAM,GAAO,EAAE;IACf,KAAAC,OAAO,GAAK,EAAE;IAChB,KAAAC,QAAQ,GAAC,CAAC;IACV,KAAAC,QAAQ,GAAC,CAAC;IACV,KAAAC,SAAS,GAAC,CAAC;IACX,KAAAC,SAAS,GAAC,CAAC;IACX,KAAAC,SAAS,GAAC,IAAI;IACd,KAAAC,UAAU,GAAC,IAAI;IACf,KAAAC,QAAQ,GAAC,EAAE;IAOP;IACA,KAAAC,SAAS,GAAG,IAAI;EAFoB;EAItCC,QAAQA,CAAA;IACN,IAAI,CAACZ,QAAQ,GAAG,IAAI,CAACF,cAAc,CAACe,WAAW,EAAE;IACjD,IAAI,CAACf,cAAc,CAACgB,UAAU,EAAE,CAACC,SAAS,CACvCf,QAAQ,IAAG;MACV,IAAI,CAACA,QAAQ,GAAEA,QAAQ;MACvB,IAAI,CAACC,eAAe,GAACD,QAAQ;IAC/B,CAAC,CACF;IACD;IAEA;EACF;;EACAgB,WAAWA,CAACC,OAAgB;IAC1B,IAAI,CAAClB,WAAW,CAACmB,SAAS,CAACD,OAAO,CAAC;EACrC;EAEAE,iBAAiBA,CAACF,OAAW;IAC3B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAG,OAAO,CAACC,GAAG,CAAC,IAAI,CAACpB,eAAe,CAAC;IACjC,IAAI,CAACA,eAAe,GAAG,IAAI,CAACD,QAAQ,CAACsB,MAAM,CAACL,OAAO,IAAEA,OAAO,CAACM,KAAK,IAAE,IAAI,CAACnB,QAAQ,IAC/Ea,OAAO,CAACM,KAAK,IAAI,IAAI,CAAClB,QAAQ,IAAEY,OAAO,CAACO,MAAM,IAAE,IAAI,CAACjB,SAAS,IAAEU,OAAO,CAACO,MAAM,IAAE,IAAI,CAAClB,SAAS,KAC7F,IAAI,CAACI,QAAQ,KAAK,EAAE,IAAIO,OAAO,CAACP,QAAQ,CAACe,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAAChB,QAAQ,CAACe,WAAW,EAAE,CAAC,CAAC,CAE/F;EACH;CAIC;AA1DU7B,oBAAoB,GAAA+B,UAAA,EALhChC,SAAS,CAAC;EACTiC,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,C,EACWlC,oBAAoB,CA0D9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}